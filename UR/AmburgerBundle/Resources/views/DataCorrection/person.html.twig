{% extends "AmburgerBundle:DataCorrection:base.html.twig" %}
{% block body %}
    <div class="row person-top-row">
        <div class="large-12 columns center">
            <h2>Korrektur der Personendaten</h2>
            <p class="description-text">Korrigieren Sie die angegebenen Personendaten und Speichern Sie!</p>
        </div>
    </div>
    
     <div class="row">
        <div class="large-3 columns" id="old">
            <h3>Alter Datensatz</h3>
            <p class="unchangeable">-unveränderbar-</p>
                <div class="base-person-container collapsible higher-row">
                    <h4 class="header">
                        Personendaten
                    </h4>
                </div>
                <div class="birth-container collapsible  higher-row">
                    <h4 class="header">
                        Geburtsdaten
                    </h4>
                </div>
                <div class="baptism-container collapsible  higher-row">
                    <h4 class="header">
                        Taufdaten
                    </h4>
                </div>
                <div class="death-container collapsible  higher-row">
                    <h4 class="header">
                        Todesdaten
                    </h4>
                </div>
                <div class="educations-container collapsible  higher-row">
                    <h4 class="header">
                        Ausbildungsdaten
                    </h4>
                </div>
                <div class="honours-container collapsible  higher-row">
                    <h4 class="header">
                        Ehren
                    </h4>
                </div>
                <div class="properties-container collapsible  higher-row">
                    <h4 class="header">
                        Besitz
                    </h4>
                </div>
                <div class="rank-container collapsible  higher-row">
                    <h4 class="header">
                        Rang
                    </h4>
                </div>
                <div class="religion-container collapsible  higher-row">
                    <h4 class="header">
                        Religion
                    </h4>
                </div>
                <div class="residence-container collapsible  higher-row">
                    <h4 class="header">
                        Wohnraum
                    </h4>
                </div>                
                <div class="road-of-life-container collapsible  higher-row">
                    <h4 class="header">
                        Lebensweg
                    </h4>
                </div>                
                <div class="status-container collapsible  higher-row">
                    <h4 class="header">
                        Status
                    </h4>
                </div>        
                <div class="works-container collapsible  higher-row">
                    <h4 class="header">
                        Werke
                    </h4>
                </div>
                <div class="wedding-container collapsible  higher-row">
                    <h4 class="header">
                        Hochzeiten
                    </h4>
                </div>
                <div class="source-container collapsible  higher-row">
                    <h4 class="header">
                        Quellen
                    </h4>
                </div>
        </div>
        <div class="large-1 columns">
         </div>
        <div class="large-3 columns" id="new">
            <h3>Normalisierter Datensatz</h3>
            <p class="unchangeable">-unveränderbar-</p>
                <div class="base-person-container collapsible higher-row">
                    <h4 class="header">
                        Personendaten
                    </h4>
                </div>
                <div class="birth-container collapsible  higher-row">
                    <h4 class="header">
                        Geburtsdaten
                    </h4>
                </div>
                <div class="baptism-container collapsible  higher-row">
                    <h4 class="header">
                        Taufdaten
                    </h4>
                </div>
                <div class="death-container collapsible  higher-row">
                    <h4 class="header">
                        Todesdaten
                    </h4>
                </div>
                <div class="educations-container collapsible  higher-row">
                    <h4 class="header">
                        Ausbildungsdaten
                    </h4>
                </div>
                <div class="honours-container collapsible  higher-row">
                    <h4 class="header">
                        Ehren
                    </h4>
                </div>
                <div class="properties-container collapsible  higher-row">
                    <h4 class="header">
                        Besitz
                    </h4>
                </div>
                <div class="rank-container collapsible  higher-row">
                    <h4 class="header">
                        Rang
                    </h4>
                </div>
                <div class="religion-container collapsible  higher-row">
                    <h4 class="header">
                        Religion
                    </h4>
                </div>
                <div class="residence-container collapsible  higher-row">
                    <h4 class="header">
                        Wohnraum
                    </h4>
                </div>                
                <div class="road-of-life-container collapsible  higher-row">
                    <h4 class="header">
                        Lebensweg
                    </h4>
                </div>                
                <div class="status-container collapsible  higher-row">
                    <h4 class="header">
                        Status
                    </h4>
                </div>        
                <div class="works-container collapsible  higher-row">
                    <h4 class="header">
                        Werke
                    </h4>
                </div>
                <div class="wedding-container collapsible  higher-row">
                    <h4 class="header">
                        Hochzeiten
                    </h4>
                </div>
                <div class="source-container collapsible  higher-row">
                    <h4 class="header">
                        Quellen
                    </h4>
                </div>
        </div>
         <div class="large-1 columns">
         </div>
        <div class="large-3 columns" id="final">
            <h3>Neuer Datenbank-Eintrag</h3>
            <p class="changeable">-veränderbar-</p>
                <div class="base-person-container collapsible higher-row">
                    <h4 class="header">
                        Personendaten
                    </h4>
                </div>
                <div class="birth-container collapsible  higher-row">
                    <h4 class="header">
                        Geburtsdaten
                    </h4>
                </div>
                <div class="baptism-container collapsible  higher-row">
                    <h4 class="header">
                        Taufdaten
                    </h4>
                </div>
                <div class="death-container collapsible  higher-row">
                    <h4 class="header">
                        Todesdaten
                    </h4>
                </div>
                <div class="educations-container collapsible  higher-row">
                    <h4 class="header">
                        Ausbildungsdaten
                    </h4>
                </div>
                <div class="honours-container collapsible  higher-row">
                    <h4 class="header">
                        Ehren
                    </h4>
                </div>
                <div class="properties-container collapsible  higher-row">
                    <h4 class="header">
                        Besitz
                    </h4>
                </div>
                <div class="rank-container collapsible  higher-row">
                    <h4 class="header">
                        Rang
                    </h4>
                </div>
                <div class="religion-container collapsible  higher-row">
                    <h4 class="header">
                        Religion
                    </h4>
                </div>
                <div class="residence-container collapsible  higher-row">
                    <h4 class="header">
                        Wohnraum
                    </h4>
                </div>                
                <div class="road-of-life-container collapsible  higher-row">
                    <h4 class="header">
                        Lebensweg
                    </h4>
                </div>                
                <div class="status-container collapsible  higher-row">
                    <h4 class="header">
                        Status
                    </h4>
                </div>        
                <div class="works-container collapsible  higher-row">
                    <h4 class="header">
                        Werke
                    </h4>
                </div>
                <div class="wedding-container collapsible  higher-row">
                    <h4 class="header">
                        Hochzeiten
                    </h4>
                </div>
                <div class="source-container collapsible  higher-row">
                    <h4 class="header">
                        Quellen
                    </h4>
                </div>
        </div>
      </div>
    
    <div class="row person-save-button-container">
        <div class="large-5 columns">
        </div>
        <div class="large-2 columns">
            <button id="save-button" class="round button large" type="submit">Speichern</button>
        </div>
        <div class="large-5 columns">
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {# Start #}
    <script src="{{asset('bundles/amburger/js/src/datacorrection/person/PersonCorrection.js')}}"></script>

    {# Models #}

     {# Views #}
     <script src="{{ asset('bundles/amburger/js/src/datacorrection/person/BasePersonViewGenerator.js') }}"></script>
     <script src="{{ asset('bundles/amburger/js/src/datacorrection/person/OldPersonViewGenerator.js') }}"></script>
     <script src="{{ asset('bundles/amburger/js/src/datacorrection/person/PersonCorrectionView.js') }}"></script>
     <script src="{{ asset('bundles/amburger/js/src/datacorrection/person/FinalPersonView.js') }}"></script>
     <script src="{{ asset('bundles/amburger/js/src/datacorrection/person/NewPersonView.js') }}"></script>
     <script src="{{ asset('bundles/amburger/js/src/datacorrection/person/OldPersonView.js') }}"></script>
     
     


     {# Manager #}


     {# Controllers #}
     <script src="{{ asset('bundles/amburger/js/src/datacorrection/person/AjaxLoader.js') }}"></script>
     <script src="{{ asset('bundles/amburger/js/src/datacorrection/person/PersonCorrectionController.js') }}"></script>



     {# As last init the Start #}
     <script>
        $(document).ready(function(){
          PersonCorrection.init();
        });
     </script>

{% endblock %}


{% block templates %}
    {% verbatim %}
    <script type="text/template" id="basePerson">
        <div class="row">
                <input type="hidden" name="id" value="<%= id %>"> 
                <% if(typeof(oid) !== 'undefined') {%>
                    <label>OID<input type="text" name="oid" value="<%=oid %>" disabled/></label>
                <% } %>
                <label>Vorname<input type="text" name="firstName" value="<%= typeof(first_name) !== 'undefined' ?  first_name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Vatersname<input type="text" name="patronym" value="<%= typeof(patronym) !== 'undefined' ?  patronym : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Nachname<input type="text" name="lastName" value="<%= typeof(last_name) !== 'undefined' ?  last_name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Rufname<input type="text" name="foreName"  value="<%= typeof(fore_name) !== 'undefined' ?  fore_name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Geburtsname<input type="text" name="birthName" value="<%= typeof(birth_name) !== 'undefined' ?  birth_name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Geschlecht
                    <select name="gender" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>>
                        <option value="0" <%= gender == '0' ?  'selected' : '' %>>Unbekannt</option>
                        <option value="1" <%= gender == '1' ?  'selected' : '' %>>Männlich</option> 
                        <option value="2" <%= gender == '2' ?  'selected' : '' %>>Weiblich</option>
                    </select>
                </label>
                <label>Kommentar Geschlecht:
                    <input type="text" name="genderComment" value="<%= typeof(gender_comment) !== 'undefined' ?  gender_comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
                </label>
                <label>ehelich<input type="text" name="bornInMarriage" value="<%= typeof(born_in_marriage) !== 'undefined' ?  born_in_marriage : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Job
                    <% 
                            var jobTemplate = _.template($("script#job").html());
                            
                            var array = [];
                            
                            array['label'] = typeof(job) !== 'undefined' ? job['label'] : '';
                            array['comment'] = typeof(job) !== 'undefined' ? job['comment'] : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= jobTemplate(array) %>
                </label>
                <label>Jobklasse
                    <% 
                            var jobClassTemplate = _.template($("script#jobClass").html());
                            
                            var array = [];
                            
                            array['label'] =  typeof(job_class) !== 'undefined' ?  job_class['label']  : '';
                            array['comment'] = typeof(job_class) !== 'undefined' ? job_class['comment']  : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= jobClassTemplate(array) %>
                </label>
                <label>Nation
                    <% 
                            var nationTemplate = _.template($("script#nation").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(nation) !== 'undefined' ? nation['name'] : '';
                            array['comment'] = typeof(nation) !== 'undefined' ? nation['comment'] : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= nationTemplate(array) %>
                </label>
                <label>Kommentar Persondaten:<input type="text" name="comment" value="<%= typeof(comment) !== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>

        </div>
    </script>
    
    <script type="text/template" id="basePerson-old">
        <div class="row">
                <input type="hidden" name="id">
                <% if(typeof(oid) !== 'undefined') {%>
                    <label>OID<input type="text" name="oid" value="<%=oid %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <% } %>
                <label>Vorname<input type="text" name="firstName" value="<%= typeof(first_name) !== 'undefined' ?  first_name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Vatersname<input type="text" name="patronym" value="<%= typeof(patronym) !== 'undefined' ?  patronym : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Nachname<input type="text" name="lastName" value="<%= typeof(last_name) !== 'undefined' ?  last_name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Rufname<input type="text" name="foreName"  value="<%= typeof(fore_name) !== 'undefined' ?  fore_name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Geburtsname<input type="text" name="birthName" value="<%= typeof(birth_name) !== 'undefined' ?  birth_name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Geschlecht<input type="text" name="oid" value="<%= typeof(gender) !== 'undefined' ?  gender : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>ehelich<input type="text" name="bornInMarriage" value="<%= typeof(born_in_marriage) !== 'undefined' ?  born_in_marriage : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Job<input type="text" name="job" value="<%= typeof(job) !== 'undefined' ?  job : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Jobklasse<input type="text" name="jobclass" value="<%= typeof(jobclass) !== 'undefined' ?  jobclass : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Nation<input type="text" name="nation" value="<%= typeof(nation) !== 'undefined' ?  nation : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Kommentar Persondaten:<input type="text" name="comment" value="<%= typeof(comment) !== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    </script>
    <script type="text/template" id="baptism">
        <div class="row">
               <input type="hidden" name="id" value="<%= typeof(id) !== 'undefined' ?  id : '' %>"> 
                <label>Taufort
                    <% 
                            var locationTemplate = _.template($("script#location").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(baptism_location) !== 'undefined' ? baptism_location['name'] : '';
                            array['comment'] = typeof(baptism_location) !== 'undefined' ? baptism_location['comment'] : '';
                            array['latitude'] = typeof(baptism_location) !== 'undefined' ? baptism_location['latitude'] : '';
                            array['longitude'] = typeof(baptism_location) !== 'undefined' ? baptism_location['longitude'] : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= locationTemplate(array) %>
                        
             
                </label>
                <label>Taufdatum
                <% 
                            var dateReferenceTemplate = _.template($("script#dateReference").html());
                            
                            var array = [];
                            
                            array['dateReference'] = typeof(baptism_date) !== 'undefined' ? baptism_date : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= dateReferenceTemplate(array) %>
            </label>
        </div>
    </script>
    
    <script type="text/template" id="baptism-old">
        <div class="row">
               <input type="hidden" name="id"> 
                <label>Taufort<input type="text" name="baptismLocation" value="<%= typeof(baptism_location) !== 'undefined' ?  baptism_location : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Taufdatum<input type="text" name="baptismDate" value="<%= typeof(baptism_date) !== 'undefined' ?  baptism_date : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    </script>
    
    <script type="text/template" id="birth">
        <div class="row">
               <input type="hidden" name="id" value="<%= typeof(id) !== 'undefined' ?  id : '' %>"> 
                <label class="origin-country">Herkunftsland
                    <% 
                            var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(origin_country) !== 'undefined' ? origin_country['name'] :'';
                            array['comment'] = typeof(origin_country) !== 'undefined' ? origin_country['comment'] : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>
                        
                   
                </label>
                <label class="origin-territory">Herkunftsregion
                    <% 
                            var territoryTemplate = _.template($("script#territory").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(origin_territory) !== 'undefined' ? origin_territory['name'] : '';
                            array['comment'] = typeof(origin_territory) !== 'undefined' ? origin_territory['comment'] : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= territoryTemplate(array) %>
                </label>
                <label class="origin-location">Herkunftsort
                    <%
                            var locationTemplate = _.template($("script#location").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(origin_location) !== 'undefined' ? origin_location['name'] : '';
                            array['comment'] = typeof(origin_location) !== 'undefined' ? origin_location['comment'] : '';
                            array['latitude'] = typeof(origin_location) !== 'undefined' ? origin_location['latitude'] : '';
                            array['longitude'] = typeof(origin_location) !== 'undefined' ? origin_location['longitude'] : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= locationTemplate(array) %>
 
                </label>
        
                <label class="country">Geburtsland
                    <% 
                            var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(birth_country) !== 'undefined' ? birth_country['name']  : '';
                            array['comment'] = typeof(birth_country) !== 'undefined' ? birth_country['comment']  : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>

                </label>
        
                <label class="territory">Geburtsregion
                    <% var territoryTemplate = _.template($("script#territory").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(birth_territory) !== 'undefined' ? birth_territory['name'] : '';
                            array['comment'] = typeof(birth_territory) !== 'undefined' ? birth_territory['comment'] : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= territoryTemplate(array) %>
   
                </label>
            
                <label class="location">Geburtsort
                    <% 
                            var locationTemplate = _.template($("script#location").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(birth_location) !== 'undefined' ? birth_location['name'] : '';
                            array['comment'] = typeof(birth_location) !== 'undefined' ? birth_location['comment'] : '';
                            array['latitude'] = typeof(birth_location) !== 'undefined' ? birth_location['latitude'] : '';
                            array['longitude'] = typeof(birth_location) !== 'undefined' ? birth_location['longitude'] : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= locationTemplate(array) %>

                </label>
                <label class="birth-date">Geburtsdatum
                    <% 
                            var dateReferenceTemplate = _.template($("script#dateReference").html());
                            
                            var array = [];
                            
                            array['dateReference'] =  typeof(birth_date) != 'undefined' ? birth_date :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= dateReferenceTemplate(array) %>
                        
                </label>
                <label class="proven-date">Belegt
                    <% 
                            var dateReferenceTemplate = _.template($("script#dateReference").html());
                            
                            var array = [];
                            
                            array['dateReference'] = typeof(proven_date) != 'undefined' ? proven_date :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= dateReferenceTemplate(array) %>
                </label>
                <label>Kommentar Geburtsdaten:<input type="text" name="comment" value="<%= typeof(comment) !== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    </script>
    
<script type="text/template" id="birth-old">
        <div class="row">
                <input type="hidden" name="id"> 
                <label>Herkunftsland<input type="text" name="originCountry" value="<%= typeof(origin_country) !== 'undefined' ?  origin_country : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Herkunftsregion<input type="text" name="originTerritory" value="<%= typeof(origin_territory) !== 'undefined' ?  origin_territory : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Herkunftsort<input type="text" name="originLocation" value="<%= typeof(origin_location) !== 'undefined' ?  origin_location : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Geburtsland<input type="text" name="birthCountry" value="<%= typeof(birth_country) !== 'undefined' ?  birth_country : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>    
                <label>Geburtsregion<input type="text" name="birthTerritory" value="<%= typeof(birth_territory) !== 'undefined' ?  birth_territory : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Geburtsort<input type="text" name="birthLocation" value="<%= typeof(birth_location) !== 'undefined' ?  birth_location : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Geburtsdatum<input type="text" name="birthDate" value="<%= typeof(birth_date) !== 'undefined' ?  birth_date : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Belegt<input type="text" name="provenDate" value="<%= typeof(proven_date) !== 'undefined' ?  proven_date : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Kommentar Geburtsdaten:<input type="text" name="comment" value="<%= typeof(comment) !== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    </script>
    
    <script type="text/template" id="death">
        <div class="row">
                <input type="hidden" name="id" value="<%= typeof(id) !== 'undefined' ?  id : '' %>"> 
                <label class="country">Todesland
                <%  var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] =  typeof(death_country) !== 'undefined' ?  death_country['name'] :'';
                            array['comment'] =  typeof(death_country) !== 'undefined' ?  death_country['comment'] :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>
                </label>
                <label class="territory">Todesregion
                    <% if(typeof(death_territory) !== 'undefined') { 
                            var territoryTemplate = _.template($("script#territory").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(death_territory) !== 'undefined' ? death_territory['name'] :'';
                            array['comment'] = typeof(death_territory) !== 'undefined' ? death_territory['comment'] :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= territoryTemplate(array) %>
                        
                    <%  } %>
                </label>
                <label class="location">Todesort
                    <% if(typeof(death_location) !== 'undefined') { 
                            var locationTemplate = _.template($("script#location").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(death_location) !== 'undefined' ?  death_location['name'] :'';
                            array['comment'] = typeof(death_location) !== 'undefined' ?  death_location['comment'] :'';
                            array['latitude'] = typeof(death_location) !== 'undefined' ?  death_location['latitude'] :'';
                            array['longitude'] = typeof(death_location) !== 'undefined' ?  death_location['longitude'] :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= locationTemplate(array) %>
                        
                    <%  } %>
                </label>
                <label>Todesgrund<input type="text" name="causeOfDeath" value="<%= typeof(cause_of_death) !== 'undefined' ?  cause_of_death : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="death-date">Todesdatum
                    <% 
                            if(typeof(death_date) !== 'undefined') { 
                                var dateReferenceTemplate = _.template($("script#dateReference").html());

                                var array = [];

                                array['dateReference'] = death_date;

                                if(typeof(enabled) !== 'undefined') {
                                    array['enabled'] = true;
                                }
                            %>

                            <%= dateReferenceTemplate(array) %>

                    <%  } %>
                </label>
        
                <label>Friedhof<input type="text" name="graveyard" value="<%= typeof(graveyard) !== 'undefined' ?  graveyard : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="funeral-location">Begräbnisort
                    <% 
                            var locationTemplate = _.template($("script#location").html());
                            
                            var array = [];
                            
                            array['name'] =  typeof(funeral_location) !== 'undefined' ? funeral_location['name']:'';
                            array['comment'] =  typeof(funeral_location) !== 'undefined' ? funeral_location['comment']:'';
                            array['latitude'] =  typeof(funeral_location) !== 'undefined' ? funeral_location['latitude']:'';
                            array['longitude'] =  typeof(funeral_location) !== 'undefined' ? funeral_location['longitude']:'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= locationTemplate(array) %>
                        
                </label>
                <label class="funeral-date">Begräbnisdatum
                        <% 
                            if(typeof(funeral_date) !== 'undefined') { 
                                var dateReferenceTemplate = _.template($("script#dateReference").html());

                                var array = [];

                                array['dateReference'] = funeral_date;

                                if(typeof(enabled) !== 'undefined') {
                                    array['enabled'] = true;
                                }
                            %>

                            <%= dateReferenceTemplate(array) %>

                    <%  } %>
                </label>
        
                <label>Kommentar Todesdaten:<input type="text" name="comment" value="<%= typeof(comment) !== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    </script>

    
    <script type="text/template" id="death-old">
        <div class="row">
                <input type="hidden" name="id"> 
                <label>Todesland<input type="text" name="deathCountry" value="<%= typeof(death_country) !== 'undefined' ?  death_country : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Todesregion<input type="text" name="deathTerritory" value="<%= typeof(death_territory) !== 'undefined' ?  death_territory : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Todesort<input type="text" name="deathLocation" value="<%= typeof(death_location) !== 'undefined' ?  death_location : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Todesgrund<input type="text" name="causeOfDeath" value="<%= typeof(cause_of_death) !== 'undefined' ?  cause_of_death : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Todesdatum<input type="text" name="deathDate" value="<%= typeof(death_date) !== 'undefined' ?  death_date : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Friedhof<input type="text" name="graveyard" value="<%= typeof(graveyard) !== 'undefined' ?  graveyard : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Begräbnisort<input type="text" name="funeralLocation" value="<%= typeof(funeral_location) !== 'undefined' ?  funeral_location : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Begräbnisdatum<input type="text" name="funeralDate" value="<%= typeof(funeral_date) !== 'undefined' ?  funeral_date : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Kommentar Todesdaten:<input type="text" name="comment" value="<%= typeof(comment) !== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    </script>
    
    <script type="text/template" id="education">
        <% 
            _.forEach(educations, function (educationObj,i) {       
                
        %>
                <div class="row education-row">
                        <input type="hidden" name="id" value="<%= typeof(educationObj['id']) !== 'undefined' ?  educationObj['id'] : '' %>"> 
                        <input type="hidden" name="order" value="<%= typeof(educationObj['education_order']) !== 'undefined' ?  educationObj['education_order'] : '' %>">
                        <label>Name<input type="text" name="label" value="<%= typeof(educationObj['label']) !== 'undefined' ?  educationObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="country">Land
                        <%  var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(educationObj['country']) !== 'undefined' ? educationObj['country']['name'] : '';
                            array['comment'] = typeof(educationObj['country']) !== 'undefined' ? educationObj['country']['comment'] : '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>
                </label>
                        <label class="territory">Region
                        <% 
                            var territoryTemplate = _.template($("script#territory").html());
                            
                            var array = [];
                            
                            array['name'] =  typeof(educationObj['territory']) !== 'undefined' ? educationObj['territory']['name']: '';
                            array['comment'] =  typeof(educationObj['territory']) !== 'undefined' ? educationObj['territory']['comment']: '';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= territoryTemplate(array) %>
                      
                </label>
                        <label class="location">Ort
                             <%
                                    var locationTemplate = _.template($("script#location").html());

                                    var array = [];

                                    array['name'] = typeof(educationObj['location']) !== 'undefined' ? educationObj['location']['name']: '';
                                    array['comment'] = typeof(educationObj['location']) !== 'undefined' ? educationObj['location']['comment']: '';
                                    array['latitude'] = typeof(educationObj['location']) !== 'undefined' ? educationObj['location']['latitude']: '';
                                    array['longitude'] = typeof(educationObj['location']) !== 'undefined' ? educationObj['location']['longitude']: '';

                                    if(typeof(enabled) !== 'undefined') {
                                        array['enabled'] = true;
                                    }
                                %>

                                <%= locationTemplate(array) %>
                        </label>
                        <label class="from-date">von
                        <% 
                            if(typeof(educationObj['from_date']) !== 'undefined') { 
                                var dateReferenceTemplate = _.template($("script#dateReference").html());

                                var array = [];

                                array['dateReference'] = educationObj['from_date'];

                                if(typeof(enabled) !== 'undefined') {
                                    array['enabled'] = true;
                                }
                            %>

                            <%= dateReferenceTemplate(array) %>

                            <%  } %>
                        </label>
                        <label class="to-date">bis
                        <% 
                            if(typeof(educationObj['to_date']) !== 'undefined') { 
                                var dateReferenceTemplate = _.template($("script#dateReference").html());
 

                                var array = [];

                                array['dateReference'] = educationObj['to_date'];

                                if(typeof(enabled) !== 'undefined') {
                                    array['enabled'] = true;
                                }
                            %>

                            <%= dateReferenceTemplate(array) %>

                            <%  } %>
                        </label>
                        <label class="proven-date">belegt                       
                        <% if(typeof(educationObj['proven_date']) !== 'undefined') { 
                                var dateReferenceTemplate = _.template($("script#dateReference").html());
 

                                var array = [];

                                array['dateReference'] = educationObj['proven_date'];

                                if(typeof(enabled) !== 'undefined') {
                                    array['enabled'] = true;
                                }
                            %>

                            <%= dateReferenceTemplate(array) %>

                            <%  } %>
                        </label>
                        <label>Abschluss<input type="text" name="graduationLabel" value="<%= typeof(educationObj['graduation_label']) !== 'undefined' ? educationObj['graduation_label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="graduation-date">Abschlussdatum
                        <% if(typeof(educationObj['graduation_date']) !== 'undefined') { 
                                var dateReferenceTemplate = _.template($("script#dateReference").html());
 

                                var array = [];

                                array['dateReference'] = educationObj['graduation_date'];

                                if(typeof(enabled) !== 'undefined') {
                                    array['enabled'] = true;
                                }
                            %>

                            <%= dateReferenceTemplate(array) %>

                            <%  } %>
                        </label>
                        <label class="graduation-location">Abschlussort 
                            <% 
                                var locationTemplate = _.template($("script#location").html());

                                var array = [];

                                array['name'] = typeof(educationObj['graduation_location']) !== 'undefined' ? educationObj['graduation_location']['name']:'';
                                array['comment'] = typeof(educationObj['graduation_location']) !== 'undefined' ? educationObj['graduation_location']['comment']:'';
                                array['latitude'] = typeof(educationObj['graduation_location']) !== 'undefined' ?  educationObj['graduation_location']['latitude']:'';
                                array['longitude'] = typeof(educationObj['graduation_location']) !== 'undefined' ?  educationObj['graduation_location']['longitude']:'';

                                if(typeof(enabled) !== 'undefined') {
                                    array['enabled'] = true;
                                }
                            %>

                            <%= locationTemplate(array) %>
  
                        </label>
                        <label>Kommentar Ausbildungsdaten:<input type="text" name="comment" value="<%= typeof(educationObj['comment']) !== 'undefined' ? educationObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                </div>
        <% }); %>
    </script>
    
    <script type="text/template" id="education-old">
        <% 
            _.forEach(educations, function (educationObj,i) {       
                
        %>
                <div class="row education-row">
                        <input type="hidden" name="id"> 
                        <input type="hidden" name="order">
                        <label>Name<input type="text" name="label" value="<%= typeof(educationObj['label']) !== 'undefined' ?  educationObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="country">Land<input type="text" name="country" value="<%= typeof(educationObj['country']) !== 'undefined' ?  educationObj['country'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="territory">Region<input type="text" name="territory" value="<%= typeof(educationObj['territory']) !== 'undefined' ?  educationObj['territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="location">Ort<input type="text" name="location" value="<%= typeof(educationObj['location']) !== 'undefined' ?  educationObj['location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="from-date">von<input type="text" name="fromDate" value="<%= typeof(educationObj['from_date']) !== 'undefined' ?  educationObj['from_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="to-date">bis<input type="text" name="toDate" value="<%= typeof(educationObj['to_date']) !== 'undefined' ?  educationObj['to_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="proven-date">belegt<input type="text" name="provenDate" value="<%= typeof(educationObj['proven_date']) !== 'undefined' ?  educationObj['proven_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label>Abschluss<input type="text" name="graduationLabel" value="<%= typeof(educationObj['graduation_label']) !== 'undefined' ? educationObj['graduation_label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label>Abschlussdatum<input type="text" name="graduationDate" value="<%= typeof(educationObj['graduation_date']) !== 'undefined' ?  educationObj['graduation_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label>Abschlussort<input type="text" name="graduationLocation" value="<%= typeof(educationObj['graduation_location']) !== 'undefined' ?  educationObj['graduation_location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label>Kommentar Ausbildungsdaten:<input type="text" name="comment" value="<%= typeof(educationObj['comment']) !== 'undefined' ? educationObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                </div>
        <% }); %>
    </script>
    
    <script type="text/template" id="honour">
         <% 
            _.forEach(honours, function (honourObj,i) {       
                
        %>
        <div class="row honour-row">
                <input type="hidden" name="id" value="<%= typeof(honourObj['id']) !== 'undefined' ?  honourObj['id'] : '' %>"> 
                <input type="hidden" name="order" value="<%= typeof(honourObj['honour_order']) !== 'undefined' ?  honourObj['honour_order'] : '' %>">
                <label>Name<input type="text" name="label" value="<%= typeof(honourObj['label']) !== 'undefined' ?  honourObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="country">Land
                        <%  
                            var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(honourObj['country']) !== 'undefined' ? honourObj['country']['name'] :'';
                            array['comment'] = typeof(honourObj['country']) !== 'undefined' ? honourObj['country']['comment'] :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>

                </label>
                <label class="territory">Region
                    <% 
                        var territoryTemplate = _.template($("script#territory").html());

                        var array = [];

                        array['name'] = typeof(honourObj['territory']) !== 'undefined' ? honourObj['territory']['name'] :'';
                        array['comment'] = typeof(honourObj['territory']) !== 'undefined' ? honourObj['territory']['comment'] :'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= territoryTemplate(array) %>

            </label>
            <label class="location">Ort
                 <% 
                        var locationTemplate = _.template($("script#location").html());

                        var array = [];

                        array['name'] = typeof(honourObj['location']) !== 'undefined' ? honourObj['location']['name'] :'';
                        array['comment'] = typeof(honourObj['location']) !== 'undefined' ? honourObj['location']['comment'] :'';
                        array['latitude'] = typeof(honourObj['location']) !== 'undefined' ? honourObj['location']['latitude'] :'';
                        array['longitude'] = typeof(honourObj['location']) !== 'undefined' ? honourObj['location']['longitude'] :'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= locationTemplate(array) %>
            </label>
            <label class="from-date">von
            <% 
                if(typeof(honourObj['from_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());

                    var array = [];

                    array['dateReference'] = honourObj['from_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="to-date">bis
            <% 
                if(typeof(honourObj['to_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = honourObj['to_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="proven-date">belegt                       
            <% if(typeof(honourObj['proven_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = honourObj['proven_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label>Kommentar Ehren:<input type="text" name="comment" value="<%= typeof(honourObj['comment']) !== 'undefined' ? honourObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
        <% }); %>
    </script>

    <script type="text/template" id="honour-old">
         <% 
            _.forEach(honours, function (honourObj,i) {       
                
        %>
        <div class="row">
                <input type="hidden" name="id"> 
                <input type="hidden" name="honourOrder">
                <label>Name<input type="text" name="label" value="<%= typeof(honourObj['label']) !== 'undefined' ?  honourObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="country">Land<input type="text" name="country" value="<%= typeof(honourObj['country']) !== 'undefined' ?  honourObj['country'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="territory">Region<input type="text" name="territory" value="<%= typeof(honourObj['territory']) !== 'undefined' ?  honourObj['territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="location">Ort<input type="text" name="location" value="<%= typeof(honourObj['location']) !== 'undefined' ?  honourObj['location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="from-date">von<input type="text" name="fromDate" value="<%= typeof(honourObj['from_date']) !== 'undefined' ?  honourObj['from_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="to-date">bis<input type="text" name="toDate" value="<%= typeof(honourObj['to_date']) !== 'undefined' ?  honourObj['to_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="proven-date">belegt<input type="text" name="provenDate" value="<%= typeof(honourObj['proven_date']) !== 'undefined' ?  honourObj['proven_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
                <label>Kommentar Ehren:<input type="text" name="comment" value="<%= typeof(honourObj['comment']) !== 'undefined' ? honourObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
        <% }); %>
    </script>
    
    <script type="text/template" id="property">
        <% 
            _.forEach(properties, function (propertyObj,i) {       
                
        %>
        <div class="row property-row">
               <input type="hidden" name="id" value="<%= typeof(propertyObj['id']) !== 'undefined' ?  propertyObj['id'] : '' %>"> 
                <input type="hidden" name="order" value="<%= typeof(propertyObj['property_order']) !== 'undefined' ?  propertyObj['property_order'] : '' %>">
                 <label>Name<input type="text" name="label" value="<%= typeof(propertyObj['label']) !== 'undefined' ?  propertyObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="country">Land
                        <%  
                            var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(propertyObj['country']) !== 'undefined' ? propertyObj['country']['name'] :'';
                            array['comment'] = typeof(propertyObj['country']) !== 'undefined' ? propertyObj['country']['comment'] :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>
   
                </label>
                <label class="territory">Region
                    <% 
                        var territoryTemplate = _.template($("script#territory").html());

                        var array = [];

                        array['name'] =  typeof(propertyObj['territory']) !== 'undefined' ? propertyObj['territory']['name']:'';
                        array['comment'] =  typeof(propertyObj['territory']) !== 'undefined' ? propertyObj['territory']['comment']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= territoryTemplate(array) %>
            </label>
            <label class="location">Ort
                 <% 
                        var locationTemplate = _.template($("script#location").html());

                        var array = [];

                        array['name'] = typeof(propertyObj['location']) !== 'undefined' ? propertyObj['location']['name']:'';
                        array['comment'] =typeof(propertyObj['location']) !== 'undefined' ? propertyObj['location']['comment']:'';
                        array['latitude'] = typeof(propertyObj['location']) !== 'undefined' ? propertyObj['location']['latitude']:'';
                        array['longitude'] = typeof(propertyObj['location']) !== 'undefined' ? propertyObj['location']['longitude']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= locationTemplate(array) %>

            </label>
            <label class="from-date">von
            <% 
                if(typeof(propertyObj['from_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());

                    var array = [];

                    array['dateReference'] = propertyObj['from_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="to-date">bis
            <% 
                if(typeof(propertyObj['to_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = propertyObj['to_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="proven-date">belegt                       
            <% if(typeof(propertyObj['proven_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = propertyObj['proven_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label>Kommentar Besitz:<input type="text" name="comment" value="<%= typeof(propertyObj['comment']) !== 'undefined' ? propertyObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="property-old">
        <% 
            _.forEach(properties, function (propertyObj,i) {       
                
        %>
        <div class="row">
               <input type="hidden" name="id"> 
                <input type="hidden" name="propertyOrder">
                <label>Name<input type="text" name="label" value="<%= typeof(propertyObj['label']) !== 'undefined' ?  propertyObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="country">Land<input type="text" name="country" value="<%= typeof(propertyObj['country']) !== 'undefined' ?  propertyObj['country'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="territory">Region<input type="text" name="territory" value="<%= typeof(propertyObj['territory']) !== 'undefined' ?  propertyObj['territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="location">Ort<input type="text" name="location" value="<%= typeof(propertyObj['location']) !== 'undefined' ?  propertyObj['location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="from-date">von<input type="text" name="fromDate" value="<%= typeof(propertyObj['from_date']) !== 'undefined' ?  propertyObj['from_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="to-date">bis<input type="text" name="toDate" value="<%= typeof(propertyObj['to_date']) !== 'undefined' ?  propertyObj['to_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="proven-date">belegt<input type="text" name="provenDate" value="<%= typeof(propertyObj['proven_date']) !== 'undefined' ?  propertyObj['proven_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
                <label>Kommentar Besitz:<input type="text" name="comment" value="<%= typeof(propertyObj['comment']) !== 'undefined' ? propertyObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="rank">
        <% 
            _.forEach(ranks, function (rankObj,i) {       
                
        %>
        <div class="row rank-row">
               <input type="hidden" name="id" value="<%= typeof(rankObj['id']) !== 'undefined' ?  rankObj['id'] : '' %>"> 
                <input type="hidden" name="order" value="<%= typeof(rankObj['rank_order']) !== 'undefined' ?  rankObj['rank_order'] : '' %>">
                <label>Name<input type="text" name="label" value="<%= typeof(rankObj['label']) !== 'undefined' ?  rankObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                 <label>Klasse<input type="text" name="class" value="<%= typeof(rankObj['class']) !== 'undefined' ?  rankObj['class'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %> /></label>
                        <label class="country">Land
                        <%  
                            var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(rankObj['country']) !== 'undefined' ? rankObj['country']['name'] :'';
                            array['comment'] = typeof(rankObj['country']) !== 'undefined' ?  rankObj['country']['comment'] :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>
 
                </label>
                <label class="territory">Region
                    <% 
                        var territoryTemplate = _.template($("script#territory").html());

                        var array = [];

                        array['name'] =  typeof(rankObj['territory']) !== 'undefined' ?  rankObj['territory']['name']:'';
                        array['comment'] =  typeof(rankObj['territory']) !== 'undefined' ?  rankObj['territory']['comment']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= territoryTemplate(array) %>

            </label>
            <label class="location">Ort
                 <% 
                        var locationTemplate = _.template($("script#location").html());

                        var array = [];

                        array['name'] = typeof(rankObj['location']) !== 'undefined' ? rankObj['location']['name']:'';
                        array['comment'] = typeof(rankObj['location']) !== 'undefined' ? rankObj['location']['comment']:'';
                        array['latitude'] = typeof(rankObj['location']) !== 'undefined' ? rankObj['location']['latitude']:'';
                        array['longitude'] = typeof(rankObj['location']) !== 'undefined' ? rankObj['location']['longitude']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= locationTemplate(array) %>
            </label>
            <label class="from-date">von
            <% 
                if(typeof(rankObj['from_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());

                    var array = [];

                    array['dateReference'] = rankObj['from_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="to-date">bis
            <% 
                if(typeof(rankObj['to_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = rankObj['to_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="proven-date">belegt                       
            <% if(typeof(rankObj['proven_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = rankObj['proven_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label>Kommentar Rang:<input type="text" name="comment" value="<%= typeof(rankObj['comment']) !== 'undefined' ? rankObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>
    
     <script type="text/template" id="rank-old">
        <% 
            _.forEach(ranks, function (rankObj,i) {       
                
        %>
        <div class="row">
               <input type="hidden" name="id"> 
                <input type="hidden" name="rankOrder">
                <label>Name<input type="text" name="label" value="<%= typeof(rankObj['label']) !== 'undefined' ?  rankObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Klasse<input type="text" name="class" value="<%= typeof(rankObj['class']) !== 'undefined' ?  rankObj['class'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %> /></label>
                <label class="country">Land<input type="text" name="country" value="<%= typeof(rankObj['country']) !== 'undefined' ?  rankObj['country'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="territory">Region<input type="text" name="territory" value="<%= typeof(rankObj['territory']) !== 'undefined' ?  rankObj['territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="location">Ort<input type="text" name="location" value="<%= typeof(rankObj['location']) !== 'undefined' ?  rankObj['location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="from-date">von<input type="text" name="fromDate" value="<%= typeof(rankObj['from_date']) !== 'undefined' ?  rankObj['from_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="to-date">bis<input type="text" name="toDate" value="<%= typeof(rankObj['to_date']) !== 'undefined' ?  rankObj['to_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="proven-date">belegt<input type="text" name="provenDate" value="<%= typeof(rankObj['proven_date']) !== 'undefined' ?  rankObj['proven_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
                <label>Kommentar Rang:<input type="text" name="comment" value="<%= typeof(rankObj['comment']) !== 'undefined' ? rankObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="religion">
        <% 
            _.forEach(religions, function (religionObj,i) {       
                
        %>
        <div class="row religion-row">
               <input type="hidden" name="id" value="<%= typeof(religionObj['id']) !== 'undefined' ?  religionObj['id'] : '' %>"> 
                <input type="hidden" name="order" value="<%= typeof(religionObj['religion_order']) !== 'undefined' ?  religionObj['religion_order'] : '' %>">
                 <label>Name<input type="text" name="name" value="<%= typeof(religionObj['name']) !== 'undefined' ?  religionObj['name'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Religionswechsel<input type="text" name="changeOfReligion" value="<%= typeof(religionObj['change_of_religion']) !== 'undefined' ?  religionObj['change_of_religion'] : '' %>"' <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %> /></label>


            <label class="from-date">von
            <% 
                if(typeof(religionObj['from_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());

                    var array = [];

                    array['dateReference'] = religionObj['from_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="to-date">bis
            <% 
                if(typeof(religionObj['to_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = religionObj['to_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label>Kommentar Religion:<input type="text" name="comment" value="<%= typeof(religionObj['comment']) !== 'undefined' ? religionObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="religion-old">
        <% 
            _.forEach(religions, function (religionObj,i) {       
                
        %>
        <div class="row">
               <input type="hidden" name="id"> 
                <input type="hidden" name="religionOrder">
                <label>Name<input type="text" name="name" value="<%= typeof(religionObj['name']) !== 'undefined' ?  religionObj['name'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Religionswechsel<input type="text" name="changeOfReligion" value="<%= typeof(religionObj['change_of_religion']) !== 'undefined' ?  religionObj['change_of_religion'] : '' %>"' <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %> /></label>
                <label class="from-date">von<input type="text" name="fromDate" value="<%= typeof(religionObj['from_date']) !== 'undefined' ?  religionObj['from_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="to-date">bis<input type="text" name="toDate" value="<%= typeof(religionObj['to_date']) !== 'undefined' ?  religionObj['to_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Kommentar Religion:<input type="text" name="comment" value="<%= typeof(religionObj['comment']) !== 'undefined' ? religionObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="residence">
        <% 
            _.forEach(residences, function (residenceObj,i) {       
                
        %>
        <div class="row">
                <input type="hidden" name="id" value="<%= typeof(residenceObj['id']) !== 'undefined' ? residenceObj['id'] : '' %>"> 
                 <label class='country'>Wohnland
                        <%  
                            var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(residenceObj['residence_country']) !== 'undefined' ?  residenceObj['residence_country']['name'] :'';
                            array['comment'] = typeof(residenceObj['residence_country']) !== 'undefined' ?  residenceObj['residence_country']['comment']:'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>
    
                </label>
                <label class='territory'>Wohnregion
                    <% 
                        var territoryTemplate = _.template($("script#territory").html());

                        var array = [];

                        array['name'] =  typeof(residenceObj['residence_territory']) !== 'undefined' ? residenceObj['residence_territory']['name']:'';
                        array['comment'] =  typeof(residenceObj['residence_territory']) !== 'undefined' ? residenceObj['residence_territory']['comment']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= territoryTemplate(array) %>
            </label>
            <label class='location'>Wohnort
                 <% 
                        var locationTemplate = _.template($("script#location").html());

                        var array = [];

                        array['name'] =  typeof(residenceObj['residence_location']) !== 'undefined' ? residenceObj['residence_location']['name']:'';
                        array['comment'] =  typeof(residenceObj['residence_location']) !== 'undefined' ? residenceObj['residence_location']['comment']:'';
                        array['latitude'] =  typeof(residenceObj['residence_location']) !== 'undefined' ? residenceObj['residence_location']['latitude']:'';
                        array['longitude'] =  typeof(residenceObj['residence_location']) !== 'undefined' ? residenceObj['residence_location']['longitude']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= locationTemplate(array) %>
            </label>
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="residence-old">
        <% 
            _.forEach(residences, function (residenceObj,i) {       
                
        %>
        <div class="row">
                <input type="hidden" name="id"> 
                <input type="hidden" name="residenceOrder">
                <label>Wohnland<input type="text" name="residenceCountry" value="<%= typeof(residenceObj['residence_country']) !== 'undefined' ?  residenceObj['residence_country'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Wohnregion<input type="text" name="residenceTerritory" value="<%= typeof(residenceObj['residence_territory']) !== 'undefined' ?  residenceObj['residence_territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Wohnort<input type="text" name="residenceLocation" value="<%= typeof(residenceObj['residence_location']) !== 'undefined' ?  residenceObj['residence_location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="roadOfLife">
        <% 

            _.forEach(roadOfLifes, function (roadOfLifeObj,i) {       
                
        %>
        <div class="row road-of-life-row">
                <input type="hidden" name="id" value="<%= typeof(roadOfLifeObj['id']) !== 'undefined' ?  roadOfLifeObj['id'] : '' %>"> 
                <input type="hidden" name="order" value="<%= typeof(roadOfLifeObj['road_of_life_order']) !== 'undefined' ?  roadOfLifeObj['road_of_life_order'] : '' %>">
                <label class="origion-country">Herkunftsland
                    <%  var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(roadOfLifeObj['origin_country']) !== 'undefined' ? roadOfLifeObj['origin_country']['name'] :'';
                            array['comment'] = typeof(roadOfLifeObj['origin_country']) !== 'undefined' ? roadOfLifeObj['origin_country']['comment']:'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                    <%= countryTemplate(array) %>
                </label>
                <label class="origin-territory">Herkunftsregion
                <% 
                        var territoryTemplate = _.template($("script#territory").html());

                        var array = [];

                        array['name'] = typeof(roadOfLifeObj['origin_territory']) !== 'undefined' ? roadOfLifeObj['origin_territory']['name']:'';
                        array['comment'] = typeof(roadOfLifeObj['origin_territory']) !== 'undefined' ? roadOfLifeObj['origin_territory']['comment']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= territoryTemplate(array) %>

                </label>
                <label class='job'>Job
                <% 
                            var jobTemplate = _.template($("script#job").html());
                            
                            var array = [];
                            
                            array['label'] = typeof(roadOfLifeObj['job']) !== 'undefined' ? roadOfLifeObj['job']['label']:'';
                            array['comment'] =  typeof(roadOfLifeObj['job']) !== 'undefined' ? roadOfLifeObj['job']['comment']:'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= jobTemplate(array) %>

                </label>
                 <label class="country">Land
                        <% 
                            var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(roadOfLifeObj['country']) !== 'undefined' ? roadOfLifeObj['country']['name'] :'';
                            array['comment'] = typeof(roadOfLifeObj['country']) !== 'undefined' ? roadOfLifeObj['country']['comment'] :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>

                </label>
                <label class="territory">Region
                    <% 
                        var territoryTemplate = _.template($("script#territory").html());

                        var array = [];

                        array['name'] = typeof(roadOfLifeObj['territory']) !== 'undefined' ? roadOfLifeObj['territory']['name']:'';
                        array['comment'] =  typeof(roadOfLifeObj['territory']) !== 'undefined' ? roadOfLifeObj['territory']['comment']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= territoryTemplate(array) %>
            </label>
            <label class="location">Ort
                 <% 
                        var locationTemplate = _.template($("script#location").html());

                        var array = [];

                        array['name'] = typeof(roadOfLifeObj['location']) !== 'undefined' ? roadOfLifeObj['location']['name']:'';
                        array['comment'] = typeof(roadOfLifeObj['location']) !== 'undefined' ? roadOfLifeObj['location']['comment']:'';
                        array['latitude'] = typeof(roadOfLifeObj['location']) !== 'undefined' ? roadOfLifeObj['location']['latitude']:'';
                        array['longitude'] = typeof(roadOfLifeObj['location']) !== 'undefined' ? roadOfLifeObj['location']['longitude']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= locationTemplate(array) %>
            </label>
            <label class="from-date">von
            <% 
                if(typeof(roadOfLifeObj['from_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());

                    var array = [];

                    array['dateReference'] = roadOfLifeObj['from_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="to-date">bis
            <% 
                if(typeof(roadOfLifeObj['to_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = roadOfLifeObj['to_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="proven-date">belegt                       
            <% if(typeof(roadOfLifeObj['proven_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = roadOfLifeObj['proven_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label>Kommentar Lebensweg:<input type="text" name="comment" value="<%= typeof(roadOfLifeObj['comment']) !== 'undefined' ? roadOfLifeObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="roadOfLife-old">
        <% 

            _.forEach(roadOfLifes, function (roadOfLifeObj,i) {       
                
        %>
        <div class="row">
                <input type="hidden" name="id"> 
                <input type="hidden" name="roadOfLifeOrder">
                <label>Herkunftsland<input type="text" name="originCountry" value="<%= typeof(roadOfLifeObj['origin_country']) !== 'undefined' ?  roadOfLifeObj['origin_country'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Herkunftsregion<input type="text" name="originTerritory" value="<%= typeof(roadOfLifeObj['origin_territory']) !== 'undefined' ?  roadOfLifeObj['origin_territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label>Job<input type="text" name="job" value="<%= typeof(roadOfLifeObj['job']) !== 'undefined' ?  roadOfLifeObj['job'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="country">Land<input type="text" name="country" value="<%= typeof(roadOfLifeObj['country']) !== 'undefined' ?  roadOfLifeObj['country'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="territory">Region<input type="text" name="territory" value="<%= typeof(roadOfLifeObj['territory']) !== 'undefined' ?  roadOfLifeObj['territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="location">Ort<input type="text" name="location" value="<%= typeof(roadOfLifeObj['location']) !== 'undefined' ?  roadOfLifeObj['location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="from-date">von<input type="text" name="fromDate" value="<%= typeof(roadOfLifeObj['from_date']) !== 'undefined' ?  roadOfLifeObj['from_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="to-date">bis<input type="text" name="toDate" value="<%= typeof(roadOfLifeObj['to_date']) !== 'undefined' ?  roadOfLifeObj['to_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="proven-date">belegt<input type="text" name="provenDate" value="<%= typeof(roadOfLifeObj['proven_date']) !== 'undefined' ?  roadOfLifeObj['proven_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
                <label>Kommentar Lebensweg:<input type="text" name="comment" value="<%= typeof(roadOfLifeObj['comment']) !== 'undefined' ? roadOfLifeObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="source">
        <% 
            _.forEach(sources, function (sourceObj,i) {       
                
        %>
        <div class="row source-row">
                <input type="hidden" name="id" value="<%= typeof(sourceObj['id']) !== 'undefined' ?  sourceObj['id'] : '' %>"> 
                <input type="hidden" name="order" value="<%= typeof(sourceObj['source_order']) !== 'undefined' ?  sourceObj['source_order'] : '' %>">
                <label>Name<input type="text" name="label" value="<%= typeof(sourceObj['label']) !== 'undefined' ?  sourceObj['label'] : '' %>"  <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %> /></label>
                <label>Fundort<input type="text" name="placeOfDiscovery" value="<%= typeof(sourceObj['place_of_discovery']) !== 'undefined' ?  sourceObj['place_of_discovery'] : '' %>"  <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %> /></label>
                <label>Bemerkung<input type="text" name="remark" value="<%= typeof(sourceObj['remark']) !== 'undefined' ?  sourceObj['remark'] : '' %>"  <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %> /></label>
                <label>Kommentar Quellen:<input type="text" name="comment" value="<%= typeof(sourceObj['comment']) !== 'undefined' ?  sourceObj['comment'] : '' %>"  <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %> /></label>
        </div>
    <% }); %>
    </script>    
        
    <script type="text/template" id="status">
        <% 
            _.forEach(stati, function (statusObj,i) {       
                
        %>
        <div class="row status-row">
                <input type="hidden" name="id" value="<%= typeof(statusObj['id']) !== 'undefined' ?  statusObj['id'] : '' %>"> 
                <input type="hidden" name="order" value="<%= typeof(statusObj['status_order']) !== 'undefined' ?  statusObj['status_order'] : '' %>">
                <label>Name<input type="text" name="label" value="<%= typeof(statusObj['label']) !== 'undefined' ?  statusObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="country">Land
                        <%  
                            var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] = typeof(statusObj['country']) !== 'undefined' ? statusObj['country']['name'] :'';
                            array['comment'] = typeof(statusObj['country']) !== 'undefined' ? statusObj['country']['comment'] :'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>
                </label>
                <label class="territory">Region
                    <% 
                        var territoryTemplate = _.template($("script#territory").html());

                        var array = [];

                        array['name'] =  typeof(statusObj['territory']) !== 'undefined' ? statusObj['territory']['name']:'';
                        array['comment'] =  typeof(statusObj['territory']) !== 'undefined' ? statusObj['territory']['comment']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= territoryTemplate(array) %>

            </label>
            <label class="location">Ort
                 <% 
                        var locationTemplate = _.template($("script#location").html());

                        var array = [];

                        array['name'] =  typeof(statusObj['location']) !== 'undefined' ? statusObj['location']['name']:'';
                        array['comment'] =  typeof(statusObj['location']) !== 'undefined' ? statusObj['location']['comment']:'';
                        array['latitude'] =  typeof(statusObj['location']) !== 'undefined' ? statusObj['location']['latitude']:'';
                        array['longitude'] =  typeof(statusObj['location']) !== 'undefined' ? statusObj['location']['longitude']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= locationTemplate(array) %>
            </label>
            <label class="from-date">von
            <% 
                if(typeof(statusObj['from_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());

                    var array = [];

                    array['dateReference'] = statusObj['from_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="to-date">bis
            <% 
                if(typeof(statusObj['to_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = statusObj['to_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="proven-date">belegt                       
            <% if(typeof(statusObj['proven_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = statusObj['proven_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label>Kommentar Status:<input type="text" name="comment" value="<%= typeof(statusObj['comment']) !== 'undefined' ? statusObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        
        </div>
    <% }); %>
    </script>
    
    <script type="text/template" id="status-old">
        <% 
            _.forEach(stati, function (statusObj,i) {       
                
        %>
        <div class="row">
                <input type="hidden" name="id"> 
                <input type="hidden" name="order">
                <label>Name<input type="text" name="label" value="<%= typeof(statusObj['label']) !== 'undefined' ?  statusObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="country">Land<input type="text" name="country" value="<%= typeof(statusObj['country']) !== 'undefined' ?  statusObj['country'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="territory">Region<input type="text" name="territory" value="<%= typeof(statusObj['territory']) !== 'undefined' ?  statusObj['territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="location">Ort<input type="text" name="location" value="<%= typeof(statusObj['location']) !== 'undefined' ?  statusObj['location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="from-date">von<input type="text" name="fromDate" value="<%= typeof(statusObj['from_date']) !== 'undefined' ?  statusObj['from_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="to-date">bis<input type="text" name="toDate" value="<%= typeof(statusObj['to_date']) !== 'undefined' ?  statusObj['to_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="proven-date">belegt<input type="text" name="provenDate" value="<%= typeof(statusObj['proven_date']) !== 'undefined' ?  statusObj['proven_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
                <label>Kommentar Status:<input type="text" name="comment" value="<%= typeof(statusObj['comment']) !== 'undefined' ? statusObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
    <% }); %>
    </script>    
    
    
    <script type="text/template" id="works">
        <% 
            _.forEach(works, function (worksObj,i) {       
                
        %>
        <div class="row works-row">
                <input type="hidden" name="id" value="<%= typeof(worksObj['id']) !== 'undefined' ?  worksObj['id'] : '' %>"> 
                <input type="hidden" name="order" value="<%= typeof(worksObj['works_order']) !== 'undefined' ?  worksObj['works_order'] : '' %>">
                                 <label>Name<input type="text" name="label" value="<%= typeof(worksObj['label']) !== 'undefined' ?  worksObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                        <label class="country">Land
                        <%  
                            var countryTemplate = _.template($("script#country").html());
                            
                            var array = [];
                            
                            array['name'] =  typeof(worksObj['country']) !== 'undefined' ? worksObj['country']['name']:'';
                            array['comment'] = typeof(worksObj['country']) !== 'undefined' ? worksObj['country']['comment']:'';
                            
                            if(typeof(enabled) !== 'undefined') {
                                array['enabled'] = true;
                            }
                        %>
                        
                        <%= countryTemplate(array) %>
                </label>
                <label class="territory">Region
                    <% 
                        var territoryTemplate = _.template($("script#territory").html());

                        var array = [];

                        array['name'] = typeof(worksObj['territory']) !== 'undefined' ? worksObj['territory']['name']:'';
                        array['comment'] = typeof(worksObj['territory']) !== 'undefined' ? worksObj['territory']['comment']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= territoryTemplate(array) %>
            </label>
            <label class="location">Ort
                 <% 
                        var locationTemplate = _.template($("script#location").html());

                        var array = [];

                        array['name'] = typeof(worksObj['location']) !== 'undefined' ? worksObj['location']['name']:'';
                        array['comment'] = typeof(worksObj['location']) !== 'undefined' ? worksObj['location']['comment']:'';
                        array['latitude'] = typeof(worksObj['location']) !== 'undefined' ? worksObj['location']['latitude']:'';
                        array['longitude'] = typeof(worksObj['location']) !== 'undefined' ? worksObj['location']['longitude']:'';

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= locationTemplate(array) %>
            </label>
            <label class="from-date">von
            <% 
                if(typeof(worksObj['from_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());

                    var array = [];

                    array['dateReference'] = worksObj['from_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="to-date">bis
            <% 
                if(typeof(worksObj['to_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = worksObj['to_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="proven-date">belegt                       
            <% if(typeof(worksObj['proven_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = worksObj['proven_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label>Kommentar Werke:<input type="text" name="comment" value="<%= typeof(worksObj['comment']) !== 'undefined' ? worksObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        
        </div>
        <% }); %>
    </script>
    
    <script type="text/template" id="works-old">
        <% 
            _.forEach(works, function (worksObj,i) {       
                
        %>
        <div class="row">
                <input type="hidden" name="id"> 
                <input type="hidden" name="order">
                <label>Name<input type="text" name="label" value="<%= typeof(worksObj['label']) !== 'undefined' ?  worksObj['label'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="country">Land<input type="text" name="country" value="<%= typeof(worksObj['country']) !== 'undefined' ?  worksObj['country'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="territory">Region<input type="text" name="territory" value="<%= typeof(worksObj['territory']) !== 'undefined' ?  worksObj['territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="location">Ort<input type="text" name="location" value="<%= typeof(worksObj['location']) !== 'undefined' ?  worksObj['location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="from-date">von<input type="text" name="fromDate" value="<%= typeof(worksObj['from_date']) !== 'undefined' ?  worksObj['from_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="to-date">bis<input type="text" name="toDate" value="<%= typeof(worksObj['to_date']) !== 'undefined' ?  worksObj['to_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
                <label class="proven-date">belegt<input type="text" name="provenDate" value="<%= typeof(worksObj['proven_date']) !== 'undefined' ?  worksObj['proven_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
                <label>Kommentar Werke:<input type="text" name="comment" value="<%= typeof(worksObj['comment']) !== 'undefined' ? worksObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
        <% }); %>
    </script>
    
        <script type="text/template" id="wedding">
        <% 
            _.forEach(weddings, function (weddingObj,i) {       
                
        %>
        <div class="row wedding-row">
                <input type="hidden" name="id" value="<%= typeof(weddingObj['id']) !== 'undefined' ?  weddingObj['id'] : '' %>"> 
                <input type="hidden" name="order" value="<%= typeof(weddingObj['wedding_order']) !== 'undefined' ?  weddingObj['wedding_order'] : '' %>">
                <input type="hidden" name="husband_id" value="<%= typeof(weddingObj['husband_id']) !== 'undefined' ?  weddingObj['husband_id'] : '' %>">
                <input type="hidden" name="wife_id" value="<%= typeof(weddingObj['wife_id']) !== 'undefined' ?  weddingObj['wife_id'] : '' %>">
                <label class="lastname">Nachname des Ehepartners<input type="text" name="lastname" value="<%= typeof(weddingObj['last_name']) !== 'undefined' ?  weddingObj['last_name'] : '' %>" disabled/></label>
                <label class="firstname">Vorname des Ehepartners<input type="text" name="firstname" value="<%= typeof(weddingObj['first_name']) !== 'undefined' ?  weddingObj['first_name'] : '' %>" disabled></label>
                <label class="wedding-territory">Hochzeitsregion
                    <% if(typeof(weddingObj['wedding_territory']) !== 'undefined') { 
                        var territoryTemplate = _.template($("script#territory").html());

                        var array = [];

                        array['name'] = weddingObj['wedding_territory']['name'];
                        array['comment'] = weddingObj['wedding_territory']['comment'];

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= territoryTemplate(array) %>

                <%  } %>
            </label>
            <label class="wedding-location">Hochzeitsort
                 <% if(typeof(weddingObj['wedding_location']) !== 'undefined') { 
                        var locationTemplate = _.template($("script#location").html());

                        var array = [];

                        array['name'] =weddingObj['wedding_location']['name'];
                        array['comment'] = weddingObj['wedding_location']['comment'];
                        array['latitude'] = weddingObj['wedding_location']['latitude'];
                        array['longitude'] = weddingObj['wedding_location']['longitude'];

                        if(typeof(enabled) !== 'undefined') {
                            array['enabled'] = true;
                        }
                    %>

                    <%= locationTemplate(array) %>

                <%  } %>
            </label>
            <label class="wedding-date">Hochzeitstag
            <% 
                if(typeof(weddingObj['wedding_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());

                    var array = [];

                    array['dateReference'] = weddingObj['wedding_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="banns-date">Verlobungstag
            <% 
                if(typeof(weddingObj['banns_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = weddingObj['banns_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label>Scheidungsgrund<input type="text" name="breakupReason" value="<%= typeof(weddingObj['breakup_reason']) !== 'undefined' ? weddingObj['breakup_reason'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label class="breakup-date">Scheidungsdatum                       
            <% if(typeof(weddingObj['breakup_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = weddingObj['breakup_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label class="proven-date">belegt                       
            <% if(typeof(weddingObj['proven_date']) !== 'undefined') { 
                    var dateReferenceTemplate = _.template($("script#dateReference").html());


                    var array = [];

                    array['dateReference'] = weddingObj['proven_date'];

                    if(typeof(enabled) !== 'undefined') {
                        array['enabled'] = true;
                    }
                %>

                <%= dateReferenceTemplate(array) %>

                <%  } %>
            </label>
            <label>Hochzeitskommentar<input type="text" name="weddingComment" value="<%= typeof(weddingObj['wedding_comment']) !== 'undefined' ? weddingObj['wedding_comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label>Davor/Danach<input type="text" name="beforeAfter" value="<%= typeof(weddingObj['before_after']) !== 'undefined' ? weddingObj['before_after'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label>Kommentar Hochzeiten:<input type="text" name="comment" value="<%= typeof(weddingObj['comment']) !== 'undefined' ? weddingObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        
        </div>
        <% }); %>
    </script>
    
        
    
    <script type="text/template" id="wedding-old">
        <% 
            _.forEach(weddings, function (weddingObj,i) {       
                
        %>
        <div class="row wedding-row">
            <input type="hidden" name="id" value="<%= typeof(weddingObj['id']) !== 'undefined' ?  weddingObj['id'] : '' %>"> 
            <input type="hidden" name="order" value="<%= typeof(weddingObj['wedding_order']) !== 'undefined' ?  weddingObj['wedding_order'] : '' %>">
            <input type="hidden" name="order" value="<%= typeof(weddingObj['husband_id']) !== 'undefined' ?  weddingObj['husband_id'] : '' %>">
            <input type="hidden" name="order" value="<%= typeof(weddingObj['wife_id']) !== 'undefined' ?  weddingObj['wife_id'] : '' %>">
            <label class="lastname">Nachname des Ehepartners<input type="text" name="lastname" value="<%= typeof(weddingObj['last_name']) !== 'undefined' ?  weddingObj['last_name'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label class="firstname">Vorname des Ehepartners<input type="text" name="firstname" value="<%= typeof(weddingObj['first_name']) !== 'undefined' ?  weddingObj['first_name'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label class="wedding-territory">Hochzeitsregion<input type="text" name="territory" value="<%= typeof(weddingObj['wedding_territory']) !== 'undefined' ?  weddingObj['wedding_territory'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label class="wedding-location">Hochzeitsort<input type="text" name="location" value="<%= typeof(weddingObj['wedding_location']) !== 'undefined' ?  weddingObj['wedding_location'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label class="wedding-date">Hochzeitstag<input type="text" name="provenDate" value="<%= typeof(weddingObj['wedding_date']) !== 'undefined' ?  weddingObj['wedding_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
            <label class="banns-date">Verlobungstag<input type="text" name="provenDate" value="<%= typeof(weddingObj['banns_date']) !== 'undefined' ?  weddingObj['banns_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
            <label>Scheidungsgrund<input type="text" name="breakupReason" value="<%= typeof(weddingObj['breakup_reason']) !== 'undefined' ? weddingObj['breakup_reason'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label class="breakup-date">Scheidungsdatum<input type="text" name="provenDate" value="<%= typeof(weddingObj['breakup_date']) !== 'undefined' ?  weddingObj['breakup_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
            <label class="proven-date">belegt<input type="text" name="provenDate" value="<%= typeof(weddingObj['proven_date']) !== 'undefined' ?  weddingObj['proven_date'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>     
            <label>Hochzeitskommentar<input type="text" name="weddingComment" value="<%= typeof(weddingObj['wedding_comment']) !== 'undefined' ? weddingObj['wedding_comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label>Davor/Danach<input type="text" name="beforeAfter" value="<%= typeof(weddingObj['before_after']) !== 'undefined' ? weddingObj['before_after'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
            <label>Kommentar Hochzeiten:<input type="text" name="comment" value="<%= typeof(weddingObj['comment']) !== 'undefined' ? weddingObj['comment'] : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/></label>
        </div>
        <% }); %>
    </script>
    
    <script type="text/template" id="dateReference">
        <div class="input-group date-reference-container">
            <% 
                _.forEach(dateReference, function (date,i) { 
                            if(typeof(date['from']) !== 'undefined') {
                                var dateTemplate = _.template($("script#date").html()); 

                                if(typeof(enabled) !== 'undefined') { 
                                    date['from']['enabled'] = true; 
                                    date['to']['enabled'] = true; 
                                }
                        %>
                                <div class="input-group date-range-container">
                                    <%= dateTemplate(date['from']) %>
                                        bis
                                    <%= dateTemplate(date['to']) %>
                                </div>
                            <% } else { 

                                var dateTemplate = _.template($("script#date").html());

                                if(typeof(enabled) !== 'undefined') { 
                                    date['enabled'] = true; 
                                }
                                %>

                                <%= dateTemplate(date) %>
                            <% } 
                }) %>
            </div>
        </script>
    
    <script type="text/template" id="date">
        <div class="input-group date-container">
            <input type="hidden" name="id" value="<%= typeof(id)!== 'undefined' ?  id : '' %>" /> 
            <input type="checkbox" name="beforeDate" <%= before_date ?  'checked' : '' %> <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>> Vor diesem Datum</input>
            </br>
            <input type="checkbox" name="afterDate" <%= after_date ?  'checked' : '' %> <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>> Nach diesem Datum</input>
            </br>
            Tag <input type="text" name="day" value="<%= typeof(day)!== 'undefined' ?  day : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Monat <input type="text" name="month" value="<%= typeof(month)!== 'undefined' ?  month : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Jahr <input type="text" name="year" value="<%= typeof(year)!== 'undefined' ?  year : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Kommentar Datum: <input type="text" name="comment" value="<%= typeof(comment)!== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
        </div>
    </script>
    
    <script type="text/template" id="nation">
        <div class="input-group nation-container">
            <input type="hidden" name="nationId"> 
            <input type="text" name="name" value="<%= typeof(name)!== 'undefined' ?  name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Kommentar Nation: <input type="text" name="comment" value="<%= typeof(comment)!== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
        </div>
    </script>
    
    <script type="text/template" id="location">
        <div class="input-group location-container">
            <input type="hidden" name="locationId"> 
            <input type="text" name="name" value="<%= typeof(name)!== 'undefined' ?  name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Kommentar Ort: <input type="text" name="comment" value="<%= typeof(comment)!== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Längengrad <input type="text" name="longitude" value="<%= typeof(longitude)!== 'undefined' ?  longitude : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Breitengrad <input type="text" name="latitude" value="<%= typeof(latitude)!== 'undefined' ?  latitude : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            
            <% if(typeof(name) != 'undefined' && typeof(enabled)!== 'undefined'){ %>
                <button class="gnd-request">GND Abfrage</button>
            <% } %>
        </div>
    </script>
    
    <script type="text/template" id="territory">
        <div class="input-group territory-container">
            <input type="hidden" name="territoryId"> 
            <input type="text" name="name" value="<%= typeof(name)!== 'undefined' ?  name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Kommentar Region: <input type="text" name="comment" value="<%= typeof(comment)!== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            <% if(typeof(name) != 'undefined' && typeof(enabled)!== 'undefined'){ %>
                <button class="gnd-request">GND Abfrage starten</button>
            <% } %>
        </div>
    </script>
    
    <script type="text/template" id="country">
        <div class="input-group country-container">
            <input type="hidden" name="countryId"> 
            <input type="text" name="name" value="<%= typeof(name)!== 'undefined' ?  name : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Kommentar Land: <input type="text" name="comment" value="<%= typeof(comment)!== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            <% if(typeof(name) != 'undefined'  && typeof(enabled)!== 'undefined'){ %>
                <button class="gnd-request">GND Abfrage starten</button>
            <% } %>
        </div>
    </script>
        
    <script type="text/template" id="job">
        <div class="input-group job-container">
            <input type="hidden" name="jobId"> 
            <input type="text" name="label" value="<%= typeof(label)!== 'undefined' ?  label : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Kommentar Job: <input type="text" name="comment" value="<%= typeof(comment)!== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
        </div>
    </script>
        
    <script type="text/template" id="jobClass">
        <div class="input-group job-class-container">
            <input type="hidden" name="jobClassId"> 
            <input type="text" name="label" value="<%= typeof(label)!== 'undefined' ?  label : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
            Kommentar Jobklasse: <input type="text" name="comment" value="<%= typeof(comment)!== 'undefined' ?  comment : '' %>" <%= typeof(enabled)!== 'undefined' ?  '' : 'disabled' %>/>
        </div>
    </script>
    
    <script type="text/template" id="gnd-popup-template">
        <table>
                <thead>
                    <tr>
                        <td>GND Vorschlag</td>
                        <td></td>
                    </tr>
                </thead>
                <tbody>
                
                <%  _.forEach(suggestions, function (suggestion,i) {  %>
                        <tr>
                            <td class='gnd-value'><%= suggestion %></td>
                            <td><button class='gnd-accept'>Übernehmen</button></td>
                        </tr>
                 <%  }) %>
                </tbody>
            </table>
    </script>
    
    {% endverbatim %}
{% endblock %}

{% block dialogs %}
    {{ parent() }}
    <div id="dialog-gnd" title="GND Ergebnisse">


    </div>
{% endblock %}

